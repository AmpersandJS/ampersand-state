sudo: false
language: node_js
node_js: '4'
cache:
  directories: node_modules
before_script: npm prune
branches:
  except: /^v\d+\.\d+\.\d+$/
notifications:
  webhooks:
    urls: 'https://webhooks.gitter.im/e/df4440290bd89d941fb4'
    on_success: change
    on_failure: always
    on_start: false
  email: false
script:
  - npm run test-ci
  - npm run coverage
after_script: npm run coveralls
addons:
  sauce_connect: true
env:
  global:
    - secure: >-
        EbCyqg2Ibu3yME280SE4mmFXUP6RV6DQ4NKXL/FZiGmAWUGx/0i2UNEt6leBCJYH0/zBx1ZNapr9LoslSqQL8ZxZvxIiNGDevUAtPtpNzYog97LlvR+IuhnRenCGYhtHw4Wiw5x0JLhIAz6m778R43Z5FYNWo9vVL5k402ODQ/U=
    - secure: >-
        Z15yXp0ycSmHyj0kacx+g/vML3HbFrGvbAvpsWL3eBEN7xlx+y8w06cwxZxotVnha/SgbCbXGJYvViZxLVjYywUTuS5oUNSd/WB76+e8UOBYVakO/QB/K7zV1wKPAFgwOUcdzwu+/3k8xbNdOqlnAQJ/fmMH6nR2CgnUNVAlz8Q=
